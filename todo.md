# nexon-maple-2025-assignment

## 문서화 할 목록

- [ ] **보상 요청 동시성 처리**
- [ ] API 문서 추가
- [ ] 프로젝트 구조
- [ ] repository 패턴을 쓰지 않은 이유
- [ ] 회고 - 좋았던 점, 아쉬운 점

## 개발하면서 생긴 고민 / 생각 정리

### 보상 요청 처리 체크리스트

- [x] 이벤트가 있는가? (없다면 404 처리)
- [x] 이벤트가 종료되지 않았는가? (`end_date` < now)
- [x] 이벤트가 시작했는가? (`start_date` > now, 시작 전이라면 400)
- [x] 이벤트가 활성화(`status:activate`) 되었는가? 
- [x] 이벤트에 대한 보상이 설정되어 있는가?
- [ ] 이벤트 조건을 충족하는가?
  - [ ] check-in 외 다양한 케이스 추가 필요
- [x] 보상을 이미 지급하지 않았는가?
  - [x] (동시성 이슈 고려X) 1차 개발 
  - [x] 동시성 처리 필요

### 데이터베이스에 대한 고민

- [x] 서비스별로 데이터베이스를 격리해야 할까? (auth/event)

## 하면 좋을 것들

- [x] **AOP를 통한 관심사 분리 - 캐싱, 이벤트 발행, 응답 시간 로깅**
- [ ] mongodb - createdAt, updatedAt 스네이크 케이스로 통일
- [ ] 전체 목록 조회 API들 페이지네이션 기능 추가
  - [ ] 이벤트 목록 조회
  - [ ] 보상 목록 조회
- [ ] monorepo로 전환
  - [ ] shared 디렉토리 만들고 gateway <-> 타 서버 dto 통일
- [ ] API 응답 값 통일
- [ ] API 요청 값 validation gateway 서버에서 모두 처리하도록 변경 (class-validator)
